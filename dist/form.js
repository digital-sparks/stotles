(()=>{window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{let p="lead_id",u=localStorage.getItem(p);u||(u=y(),localStorage.setItem(p,u));function y(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){let i=Math.random()*16|0;return(a==="x"?i:i&3|8).toString(16)})}window.dataLayer=window.dataLayer||[];function m(){let a=new URL(window.location.href);return`${a.origin}${a.pathname}${a.hash}`}function x(a,i,o){window.dataLayer.push({event:`${a}_start`,form_name:i,form_id:o,form_url:m()})}function f(a,i,o,s){window.dataLayer.push({event:`${a}_interaction`,form_name:i,form_id:o,form_url:m(),field_name:s})}$.validator.addMethod("regex",function(a,i,o){return o&&o.constructor!=RegExp?o=new RegExp(o):o.global&&(o.lastIndex=0),this.optional(i)||o.test(a)}),$.validator.setDefaults({ignore:[]}),document.querySelectorAll("form").forEach((a,i)=>{let o=a.getAttribute("id"),s=a.getAttribute("data-name"),l=a.getAttribute("data-track-name"),w=!1;a.addEventListener("input",()=>{w||(w=!0,x(l,s,o))},{once:!0}),a.querySelectorAll("input, textarea").forEach(e=>{e.addEventListener("input",()=>{f(l,s,o,e.name)},{once:!0})}),a.querySelectorAll("select").forEach(e=>{e.addEventListener("input",()=>{f(l,s,o,e.name)},{once:!1})}),$(a).validate({submitHandler:function(e){let n=Cookies.get("stotles_utm"),t=n?JSON.parse(n):void 0;if(t){let d=t.url?`<${t.url}|Link>`:"Unknown";e.querySelector("input[name=referrer]").value=t.referrer?t.referrer:"Unknown",e.querySelector("input[name=first_stotles_page]").value=d,e.querySelector("input[name=utm_params]").value=t.utmParams?Object.entries(t.utmParams).map(([c,r])=>`${c}: ${r}`).join(", "):"Unknown",e.querySelector("input[name=utm_source]").value=t.utmParams?t.utmParams.source:void 0,e.querySelector("input[name=utm_medium]").value=t.utmParams?t.utmParams.medium:void 0,e.querySelector("input[name=utm_campaign]").value=t.utmParams?t.utmParams.campaign:void 0,e.querySelector("input[name=utm_content]").value=t.utmParams?t.utmParams.content:void 0,e.querySelector("input[name=utm_term]").value=t.utmParams?t.utmParams.term:"undefined"}if(window.dataLayer.push({event:`${l}_submitted`,form_name:s,form_id:o,form_url:m(),lead_id:u}),document.querySelector("#report-popup-form")){e.querySelector("input[name=campaign_description]").value=document.title,document.querySelector("#report-popup-form").style.display="none";let d=new URL(document.URL).pathname+"-popup";window.localStorage.setItem(d,"true")}if(document.querySelector("#gated-form")){e.querySelector("input[name=campaign_description]").value=document.title;let c=document.querySelector("#gated-form").closest(".sign-up_component");c.style.display="none";let r=new URL(document.URL).pathname+"-popup";window.localStorage.setItem(r,"true"),document.querySelector(".rich-text-wrap").style.maxHeight="none"}let g=[".pdf",".doc",".docx",".xls",".xlsx",".ppt",".pptx",".zip",".rar"];if(window.downloadUrl){let d=window.downloadUrl.toLowerCase();if(g.some(r=>d.endsWith(r))){let r=document.createElement("a");r.href=window.downloadUrl,r.download=window.downloadName,r.target="_blank",document.body.appendChild(r),r.click(),document.body.removeChild(r)}else window.open(window.downloadUrl,"_blank")}return!0},errorClass:"is-error",validClass:"is-success",errorPlacement:function(e,n){n.attr("type")=="checkbox"||n.attr("type")=="radio"?e.appendTo(n.closest(".form_field-wrapper")):n[0].nodeName==="SELECT"?e.appendTo(n.closest('[fs-selectcustom-element="dropdown"]')):n.parent().hasClass("newsletter_input")?e.appendTo(n.parent().parent()):e.insertAfter(n)},highlight:function(e,n,t){e.getAttribute("type")=="checkbox"||e.getAttribute("type")=="radio"?$(e).prev().addClass(n).removeClass(t):e.nodeName==="SELECT"?$(e).closest('[fs-selectcustom-element="dropdown"]').addClass(n).removeClass(t):$(e).addClass(n).removeClass(t)},unhighlight:function(e,n,t){e.getAttribute("type")=="checkbox"||e.getAttribute("type")=="radio"?$(e).prev().removeClass(n).addClass(t):e.nodeName==="SELECT"?$(e).closest('[fs-selectcustom-element="dropdown"]').removeClass(n).addClass(t):$(e).removeClass(n).addClass(t)},rules:{email:{email:!0}},messages:{name:"Name is required",fname:"First name is required",lname:"Last name is required",message:"Message is required",email:"Email address is required",phone:"Phone is required",company:"Company is required",jobtitle:"Job title is required",industry:"Industry is required",privacy:"Please agree to our privacy policy",public_sector_experience:"Please select your experience"}})})});})();
