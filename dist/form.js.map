{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../src/form.js"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "window.Webflow ||= [];\nwindow.Webflow.push(() => {\n  const leadIdKey = 'lead_id';\n  // Check if lead_id exists in localStorage\n  let leadId = localStorage.getItem(leadIdKey);\n\n  if (!leadId) {\n    // Generate a new GUID\n    leadId = generateGUID();\n    // Save the lead_id to localStorage\n    localStorage.setItem(leadIdKey, leadId);\n  }\n\n  // Function to generate a GUID\n  function generateGUID() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n      const r = (Math.random() * 16) | 0,\n        v = c === 'x' ? r : (r & 0x3) | 0x8;\n      return v.toString(16);\n    });\n  }\n\n  window.dataLayer = window.dataLayer || [];\n\n  function getUrlWithoutQueryParams() {\n    const url = new URL(window.location.href);\n    return `${url.origin}${url.pathname}${url.hash}`;\n  }\n\n  // Function to send form start event\n  function sendFormStartEvent(formEvent, formName, formId) {\n    window.dataLayer.push({\n      event: `${formEvent}_start`,\n      form_name: formName,\n      form_id: formId,\n      form_url: getUrlWithoutQueryParams(),\n    });\n  }\n\n  // Function to send input interaction event\n  function sendInputInteractionEvent(formEvent, formName, formId, inputName) {\n    window.dataLayer.push({\n      event: `${formEvent}_interaction`,\n      form_name: formName,\n      form_id: formId,\n      form_url: getUrlWithoutQueryParams(),\n      field_name: inputName,\n    });\n  }\n\n  $.validator.addMethod('regex', function (value, element, regexp) {\n    if (regexp && regexp.constructor != RegExp) {\n      regexp = new RegExp(regexp);\n    } else if (regexp.global) regexp.lastIndex = 0;\n    return this.optional(element) || regexp.test(value);\n  });\n\n  $.validator.setDefaults({\n    ignore: [],\n  });\n\n  document.querySelectorAll('form').forEach((form, i) => {\n    const formId = form.getAttribute('id'),\n      formName = form.getAttribute('data-name'),\n      formEvent = form.getAttribute('data-track-name');\n\n    // Track form start interaction\n    let formStarted = false;\n    form.addEventListener(\n      'input',\n      () => {\n        if (!formStarted) {\n          formStarted = true;\n          sendFormStartEvent(formEvent, formName, formId);\n        }\n      },\n      { once: true }\n    );\n\n    // Track input interactions\n    form.querySelectorAll('input, textarea').forEach((input) => {\n      input.addEventListener(\n        'input',\n        () => {\n          sendInputInteractionEvent(formEvent, formName, formId, input.name);\n        },\n        { once: true }\n      );\n    });\n\n    form.querySelectorAll('select').forEach((input) => {\n      input.addEventListener(\n        'input',\n        () => {\n          sendInputInteractionEvent(formEvent, formName, formId, input.name);\n        },\n        { once: false }\n      );\n    });\n\n    $(form).validate({\n      submitHandler: function (form) {\n        const raw_cookie = Cookies.get('stotles_utm');\n        const stotles_cookie = raw_cookie ? JSON.parse(raw_cookie) : undefined;\n        if (stotles_cookie) {\n          const firstPage = stotles_cookie.url ? `<${stotles_cookie.url}|Link>` : 'Unknown';\n          form.querySelector('input[name=referrer]').value = stotles_cookie.referrer\n            ? stotles_cookie.referrer\n            : 'Unknown';\n          form.querySelector('input[name=first_stotles_page]').value = firstPage;\n          form.querySelector('input[name=utm_params]').value = stotles_cookie.utmParams\n            ? Object.entries(stotles_cookie.utmParams)\n                .map(([k, v]) => `${k}: ${v}`)\n                .join(', ')\n            : 'Unknown';\n          form.querySelector('input[name=utm_source]').value = stotles_cookie.utmParams\n            ? stotles_cookie.utmParams['source']\n            : undefined;\n          form.querySelector('input[name=utm_medium]').value = stotles_cookie.utmParams\n            ? stotles_cookie.utmParams['medium']\n            : undefined;\n          form.querySelector('input[name=utm_campaign]').value = stotles_cookie.utmParams\n            ? stotles_cookie.utmParams['campaign']\n            : undefined;\n          form.querySelector('input[name=utm_content]').value = stotles_cookie.utmParams\n            ? stotles_cookie.utmParams['content']\n            : undefined;\n          form.querySelector('input[name=utm_term]').value = stotles_cookie.utmParams\n            ? stotles_cookie.utmParams['term']\n            : 'undefined';\n        }\n\n        // form is submitted successfully\n        window.dataLayer.push({\n          event: `${formEvent}_submitted`,\n          form_name: formName,\n          form_id: formId,\n          form_url: getUrlWithoutQueryParams(),\n          lead_id: leadId,\n        });\n\n        // Hide popup form if present\n        if (document.querySelector('#report-popup-form')) {\n          form.querySelector('input[name=campaign_description]').value = document.title;\n          document.querySelector('#report-popup-form').style.display = 'none';\n          const pagePath = new URL(document.URL).pathname + '-popup';\n          window.localStorage.setItem(pagePath, 'true');\n        }\n\n        // hide report page overlay\n        if (document.querySelector('#gated-form')) {\n          form.querySelector('input[name=campaign_description]').value = document.title;\n          const gatedForm = document.querySelector('#gated-form');\n          const gatedFormSection = gatedForm.closest('.sign-up_component');\n          gatedFormSection.style.display = 'none';\n          const pagePath = new URL(document.URL).pathname + '-popup';\n          window.localStorage.setItem(pagePath, 'true');\n          document.querySelector('.rich-text-wrap').style.maxHeight = 'none';\n        }\n\n          // Open PDF if present\n        if (window.downloadUrl) {\n          fetch(window.downloadUrl, { method: 'HEAD' })\n            .then(response => {\n              const contentType = response.headers.get('Content-Type');\n              \n              if (contentType && contentType.includes('application/pdf')) {\n                // It's a PDF, download it\n                let link = document.createElement('a');\n                link.href = window.downloadUrl;\n                link.download = window.downloadName;\n                document.body.appendChild(link);\n                link.click();\n                document.body.removeChild(link);\n              } else {\n                // It's not a PDF, open in new tab\n                window.open(window.downloadUrl, '_blank');\n              }\n            })\n            .catch(error => {\n              console.error('Error checking content type:', error);\n              // Fallback: open in new tab if there's an error\n              window.open(window.downloadUrl, '_blank');\n            });\n        }\n\n        return true;\n      },\n      errorClass: 'is-error',\n      validClass: 'is-success',\n      errorPlacement: function (error, element) {\n        if (element.attr('type') == 'checkbox' || element.attr('type') == 'radio') {\n          error.appendTo(element.closest('.form_field-wrapper'));\n        } else if (element[0].nodeName === 'SELECT') {\n          error.appendTo(element.closest('[fs-selectcustom-element=\"dropdown\"]'));\n        } else if (element.parent().hasClass('newsletter_input')) {\n          error.appendTo(element.parent().parent());\n        } else {\n          error.insertAfter(element);\n        }\n      },\n      highlight: function (element, errorClass, validClass) {\n        if (element.getAttribute('type') == 'checkbox' || element.getAttribute('type') == 'radio') {\n          $(element).prev().addClass(errorClass).removeClass(validClass);\n        } else if (element.nodeName === 'SELECT') {\n          $(element)\n            .closest('[fs-selectcustom-element=\"dropdown\"]')\n            .addClass(errorClass)\n            .removeClass(validClass);\n        } else {\n          $(element).addClass(errorClass).removeClass(validClass);\n        }\n      },\n      unhighlight: function (element, errorClass, validClass) {\n        if (element.getAttribute('type') == 'checkbox' || element.getAttribute('type') == 'radio') {\n          $(element).prev().removeClass(errorClass).addClass(validClass);\n        } else if (element.nodeName === 'SELECT') {\n          $(element)\n            .closest('[fs-selectcustom-element=\"dropdown\"]')\n            .removeClass(errorClass)\n            .addClass(validClass);\n        } else {\n          $(element).removeClass(errorClass).addClass(validClass);\n        }\n      },\n      rules: {\n        email: {\n          email: true,\n          // regex: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n        },\n      },\n      messages: {\n        name: 'Name is required',\n        fname: 'First name is required',\n        lname: 'Last name is required',\n        message: 'Message is required',\n        email: 'Email address is required',\n        phone: 'Phone is required',\n        company: 'Company is required',\n        jobtitle: 'Job title is required',\n        industry: 'Industry is required',\n        privacy: 'Please agree to our privacy policy',\n        // problem: '',\n        public_sector_experience: 'Please select your experience',\n        // contracts: '',\n        // buyer_qai_pass: ''\n      },\n    });\n  });\n});\n"],
  "mappings": "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",
  "names": ["form"]
}
